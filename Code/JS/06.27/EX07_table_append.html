<!-- EX07_table_append.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    // 태그 혹은 객체에 이벤트를 연결할때 "on" 뒤에 이벤트명으로 작성
    // 태그.on이벤트명 = 함수
    //                  1회성 함수면 function 함수명(){ ... }   <<
    //                  다회성 : 함수명(별도의 함수로 정의하기) 

    window.onload = function(){
        let bInsert = document.getElementById('bInsert');

        // 1회성 함수 실행
        // bInsert.onclick = function(){ }
        // bInsert.addEventListener("click",function(){ }) // << 가장 추천하는 방법

        // 별도의 정의된 함수가 있을 경우
        // bInsert.onclick = 함수명();
        // bInsert.addEventListener("click",함수명)

        bInsert.addEventListener("click", function(){
            // 1. 이벤트 활성화 확인 alert('1');

            // 2. 입력한 값 변수로 저장하기( 입력한 값을 얻어온다. )
            let name = document.getElementById("name").value;
            let age = document.getElementById("age").value;
            let tel = document.getElementById("tel").value;
            let addr = document.getElementById("addr").value;

            // 3. 입력한 값을 보여줄 테이블 선택 하든가
            //     입력한 값을 규칙에 저장할 캐그를 만들든가
            //  테이블 요소 선택
            let lisTable = document.getElementById("listTable");

            // 테이블을 구성하는 요소 생성( 입력한 값을 배치할 태그임. )
            let tr = document.createElement("tr");
            let td1 = document.createElement("td");
            let td2 = document.createElement("td");
            let td3 = document.createElement("td");
            let td4 = document.createElement("td");

            // 값과 td를 연결
            // 1. td.innerHTML = 값 : 태그에 직접 적용
            // 2. createText(값)    : 값을 텍스트노드화시켜놓고 append 실행

            let text1 = document.createTextNode(name);
            let text2 = document.createTextNode(age);
            let text3 = document.createTextNode(tel);
            let text4 = document.createTextNode(addr);

            // <td>태그 안에 값 입력
            td1.appendChild(text1);
            td2.appendChild(text2);
            td3.appendChild(text3);
            td4.appendChild(text4);

            // <tr> 태그 안에 <td> 태그 입력
            tr.appendChild(td1);
            tr.appendChild(td2);
            tr.appendChild(td3);
            tr.appendChild(td4);

            // <table> 태그 안에 <tr> 태그 입력
            listTable.appendChild(tr);

            // 원리 : 기본적인 원리 파악해야합니다. > 간소화된 함수들을 적용
        })
    }
</script>
<body>
    <H2>고객정보 입력</H2>

    <form name="inForm" method="post">
        <table border = 1>
            <tr>
                <td width="80" align="center">Name</td>
                <td width="50" align="center">Age</td>
                <td width="100" align="center">Tel</td>
                <td width="250" align="center">Addr</td>
            </tr>
            <tr>
                <td align="center"><input type="text" size="8" name="name" id="name"></td>
                <td align="center"><input type="text" size="4" name="age" id="age"></td>
                <td align="center"><input type="text" size="12" name="tel" id="tel"></td>
                <td align="center"><input type="text" size="30" name="addr" id="addr"></td>
            </tr>
            <tr>
                <td colspan="4" align="center">
                    <input type="button" value="입력" id="bInsert">
                </td>
            </tr>
        </table>
        <hr>
        <h2>고객정보 목록보기</h2>
        <table id = "listTable", border = 1>
            <tr>
                <td width="80" align="center">Name</td>
                <td width="80" align="center">Age</td>
                <td width="80" align="center">Tel</td>
                <td width="80" align="center">Addr</td>
            </tr>
        </table>
    </form>
</body>
</html>